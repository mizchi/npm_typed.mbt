// Generated using `moon info`, DON'T EDIT IT
package "mizchi/npm_typed/claude_code"

import(
  "mizchi/js/builtins/iterator"
  "mizchi/js/core"
)

// Values
#alias(collect_messages)
pub async fn collectMessages(prompt~ : String, model? : ClaudeModel, permissionMode? : PermissionMode, systemPrompt? : String, cwd? : String, maxTurns? : Int, maxThinkingTokens? : Int, allowedTools? : Array[String], disallowedTools? : Array[String], mcpServers? : Map[String, McpServerConfig], agents? : Map[String, AgentDefinition], settingSources? : Array[SettingSource], includePartialMessages? : Bool, resumeSession? : String) -> Array[SDKMessage]

pub fn get_result(Array[SDKMessage]) -> SDKResultMessage?

pub fn get_text(Array[SDKMessage]) -> String

pub fn query(prompt~ : String, model? : ClaudeModel, permissionMode? : PermissionMode, systemPrompt? : String, cwd? : String, maxTurns? : Int, maxThinkingTokens? : Int, allowedTools? : Array[String], disallowedTools? : Array[String], mcpServers? : Map[String, McpServerConfig], agents? : Map[String, AgentDefinition], settingSources? : Array[SettingSource], includePartialMessages? : Bool, resumeSession? : String) -> SDKMessageIterator

#alias(query_stream)
pub fn queryStream(prompt~ : @core.Any, model? : ClaudeModel, permission_mode? : PermissionMode, system_prompt? : String, cwd? : String, max_turns? : Int, max_thinking_tokens? : Int, allowed_tools? : Array[String], disallowed_tools? : Array[String], mcp_servers? : Map[String, McpServerConfig], agents? : Map[String, AgentDefinition], setting_sources? : Array[SettingSource], include_partial_messages? : Bool, resume_session? : String) -> SDKMessageIterator

#alias(query_with_abort)
pub fn queryWithAbort(prompt~ : String, model? : ClaudeModel, permission_mode? : PermissionMode, system_prompt? : String, cwd? : String, max_turns? : Int, max_thinking_tokens? : Int, allowed_tools? : Array[String], disallowed_tools? : Array[String], mcp_servers? : Map[String, McpServerConfig], agents? : Map[String, AgentDefinition], setting_sources? : Array[SettingSource], include_partial_messages? : Bool, resume_session? : String) -> (SDKMessageIterator, AbortHandle)

#alias(simple_query)
pub async fn simpleQuery(prompt~ : String, model? : ClaudeModel, permissionMode? : PermissionMode, systemPrompt? : String, cwd? : String, maxTurns? : Int, maxThinkingTokens? : Int, allowedTools? : Array[String], disallowedTools? : Array[String], mcpServers? : Map[String, McpServerConfig], agents? : Map[String, AgentDefinition], settingSources? : Array[SettingSource], includePartialMessages? : Bool, resumeSession? : String) -> String

// Errors

// Types and methods
#external
pub type AbortHandle
pub fn AbortHandle::abort(Self) -> Unit
pub fn AbortHandle::as_any(Self) -> @core.Any

pub(all) struct AgentDefinition {
  description : String
  allowedTools : Array[String]?
  disallowedTools : Array[String]?
  systemPrompt : String?
  model : ClaudeModel?
}
pub fn AgentDefinition::as_any(Self) -> @core.Any

pub(all) enum ClaudeModel {
  Sonnet
  Opus
  Haiku
  Custom(String)
}
pub fn ClaudeModel::to_string(Self) -> String
pub impl Eq for ClaudeModel
pub impl Show for ClaudeModel

pub(all) enum ContentBlock {
  Text(TextBlock)
  ToolUse(ToolUseBlock)
  ToolResult(ToolResultBlock)
  Unknown(@core.Any)
}
pub fn ContentBlock::from_any(@core.Any) -> Self

pub(all) struct CostInfo {
  input_cost : Double
  output_cost : Double
  total_cost : Double
}
pub fn CostInfo::from_any(@core.Any) -> Self

pub(all) enum McpServerConfig {
  Stdio(McpServerStdio)
  Sse(McpServerSse)
}
pub fn McpServerConfig::as_any(Self) -> @core.Any

pub(all) struct McpServerSse {
  url : String
  headers : Map[String, String]
}
pub fn McpServerSse::as_any(Self) -> @core.Any

pub(all) struct McpServerStdio {
  command : String
  args : Array[String]
  env : Map[String, String]
}
pub fn McpServerStdio::as_any(Self) -> @core.Any

pub(all) struct PermissionDenial {
  tool_name : String
  reason : String
}
pub fn PermissionDenial::from_any(@core.Any) -> Self

pub(all) enum PermissionMode {
  Default
  AcceptEdits
  BypassPermissions
  Plan
}
pub fn PermissionMode::from_string(String) -> Self
pub fn PermissionMode::to_string(Self) -> String
pub impl Eq for PermissionMode
pub impl Show for PermissionMode

#external
pub type Query
pub fn Query::as_any(Self) -> @core.Any
pub fn Query::async_iterator(Self) -> @iterator.AsyncIterator[@core.Any]

pub(all) struct QueryOptions {
  model : ClaudeModel?
  permissionMode : PermissionMode?
  systemPrompt : String?
  cwd : String?
  maxTurns : Int?
  maxThinkingTokens : Int?
  allowedTools : Array[String]?
  disallowedTools : Array[String]?
  mcpServers : Map[String, McpServerConfig]?
  agents : Map[String, AgentDefinition]?
  settingSources : Array[SettingSource]?
  includePartialMessages : Bool?
  resumeSession : String?
}
pub fn QueryOptions::as_any(Self) -> @core.Any
pub fn QueryOptions::new() -> Self

pub(all) struct SDKAssistantMessage {
  role : String
  content : Array[ContentBlock]
  raw : @core.Any
}
pub fn SDKAssistantMessage::from_any(@core.Any) -> Self

pub(all) enum SDKMessage {
  Assistant(SDKAssistantMessage)
  User(SDKUserMessage)
  Result(SDKResultMessage)
  System(SDKSystemMessage)
  Partial(SDKPartialMessage)
  Unknown(@core.Any)
}
pub fn SDKMessage::from_any(@core.Any) -> Self

pub(all) struct SDKMessageIterator {
  raw : @iterator.AsyncIterator[@core.Any]
}
pub async fn SDKMessageIterator::next(Self) -> SDKMessage?

pub(all) struct SDKPartialMessage {
  content : Array[ContentBlock]
  raw : @core.Any
}
pub fn SDKPartialMessage::from_any(@core.Any) -> Self

pub(all) struct SDKResultMessage {
  success : Bool
  duration_ms : Int
  usage : TokenUsage
  cost : CostInfo?
  permission_denials : Array[PermissionDenial]
  raw : @core.Any
}
pub fn SDKResultMessage::from_any(@core.Any) -> Self

pub(all) struct SDKSystemMessage {
  tools : Array[String]
  mcp_servers : Array[String]
  model : String
  permission_mode : PermissionMode
  raw : @core.Any
}
pub fn SDKSystemMessage::from_any(@core.Any) -> Self

pub(all) struct SDKUserMessage {
  role : String
  content : String
  raw : @core.Any
}
pub fn SDKUserMessage::from_any(@core.Any) -> Self

pub(all) enum SettingSource {
  User
  Project
  Local
}
pub fn SettingSource::to_string(Self) -> String
pub impl Eq for SettingSource
pub impl Show for SettingSource

pub(all) struct TextBlock {
  text : String
  raw : @core.Any
}
pub fn TextBlock::from_any(@core.Any) -> Self

pub(all) struct TokenUsage {
  input_tokens : Int
  output_tokens : Int
  cache_read_input_tokens : Int
  cache_creation_input_tokens : Int
}
pub fn TokenUsage::from_any(@core.Any) -> Self

pub(all) struct ToolResultBlock {
  tool_use_id : String
  content : String
  is_error : Bool
  raw : @core.Any
}
pub fn ToolResultBlock::from_any(@core.Any) -> Self

pub(all) struct ToolUseBlock {
  id : String
  name : String
  input : @core.Any
  raw : @core.Any
}
pub fn ToolUseBlock::from_any(@core.Any) -> Self

// Type aliases

// Traits

